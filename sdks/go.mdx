---
title: "Go"
description: "ActivitySmith Go SDK is a wrapper around the ActivitySmith API to help you easily send push notifications and Live Activities to your iOS devices."
icon: "golang"
og:title: "Go SDK | ActivitySmith"
og:description: "ActivitySmith Go SDK is a wrapper around the ActivitySmith API to help you easily send push notifications and Live Activities to your iOS devices."
---

import InstallationGo from "/snippets/installation/go.mdx";

## Installation

To install the ActivitySmith Go SDK, you can use `go get`:

<InstallationGo />

## Usage

1. [Create an API key](https://activitysmith.com/app/keys)
2. Pass the API key into `activitysmith.New`.

Here's an example of how to use the SDK with error handling:

```go Go
package main

import (
	"log"

	activitysmithsdk "github.com/ActivitySmithHQ/activitysmith-go"
)

func main() {
	activitysmith, err := activitysmithsdk.New("YOUR-API-KEY")
	if err != nil {
		log.Fatal(err)
	}
}
```

### Send a Push Notification

Use `activitysmith.Notifications.Send` with an `activitysmithsdk.PushNotificationInput`.

<img
  className="image"
  src="https://cdn.activitysmith.com/features/new-subscription-push-notification.png"
  alt="Push Notification"
/>

```go Go
input := activitysmithsdk.PushNotificationInput{
	Title:   "New subscription ðŸ’¸",
	Message: "Customer upgraded to Pro plan",
}

response, err := activitysmith.Notifications.
	Send(input)
if err != nil {
	log.Fatal(err)
}

log.Println(response.GetSuccess())
log.Println(response.GetDevicesNotified())
```

### Start a Live Activity

Start a Live Activity with `activitysmith.LiveActivities.Start`. For a segmented progress activity, include `title`, `number_of_steps`, `current_step`, and `type`.

<img className="image" src="https://cdn.activitysmith.com/features/start-live-activity.png" alt="Start Live Activity" />

```go Go
startInput := activitysmithsdk.LiveActivityStartInput{
	Title:         "Nightly database backup",
	Subtitle:      "create snapshot",
	NumberOfSteps: 3,
	CurrentStep:   1,
	Type:          "segmented_progress",
	Color:         "yellow",
}

start, err := activitysmith.LiveActivities.
	Start(startInput)
if err != nil {
	log.Fatal(err)
}

activityID := start.GetActivityId()
```

### Update a Live Activity

Update a Live Activity with `activitysmith.LiveActivities.Update` using the `activityID`.

<img
  className="image"
  src="https://cdn.activitysmith.com/features/update-live-activity.png"
  alt="Update Live Activity"
/>

```go Go
updateInput := activitysmithsdk.LiveActivityUpdateInput{
	ActivityID:  activityID,
	Title:       "Nightly database backup",
	Subtitle:    "upload archive",
	CurrentStep: 2,
}

update, err := activitysmith.LiveActivities.
	Update(updateInput)
if err != nil {
	log.Fatal(err)
}

log.Println(update.GetDevicesNotified())
```

### End a Live Activity

End a Live Activity with `activitysmith.LiveActivities.End`.
If `AutoDismissMinutes` is omitted, backend default `3` is used.

<img className="image" src="https://cdn.activitysmith.com/features/end-live-activity.png" alt="End Live Activity" />

```go Go
endInput := activitysmithsdk.LiveActivityEndInput{
	ActivityID:         activityID,
	Title:              "Nightly database backup",
	Subtitle:           "verify restore",
	CurrentStep: 3,
	AutoDismissMinutes: 2,
}

end, err := activitysmith.LiveActivities.
	End(endInput)
if err != nil {
	log.Fatal(err)
}

log.Println(end.GetSuccess())
```

## Channels

You can target specific channels when sending a push or starting a Live Activity.

```go Go
pushInput := activitysmithsdk.PushNotificationInput{
	Title:    "New subscription ðŸ’¸",
	Message:  "Customer upgraded to Pro plan",
	Channels: []string{"ios-builds", "engineering"},
}

_, err = activitysmith.Notifications.Send(pushInput)
if err != nil {
	log.Fatal(err)
}

startInput := activitysmithsdk.LiveActivityStartInput{
	Title:         "Nightly database backup",
	NumberOfSteps: 3,
	CurrentStep:   1,
	Type:          "segmented_progress",
	Channels:      []string{"ios-builds"},
}

_, err = activitysmith.LiveActivities.Start(startInput)
if err != nil {
	log.Fatal(err)
}
```

## Error Handling

Handle API errors by checking the returned `error` from SDK calls.

## Additional Resources

<CardGroup cols={2}>
  <Card title="Source Code" icon="github" href="https://github.com/ActivitySmithHQ/activitysmith-go">
    View the complete source code for the ActivitySmith Go SDK
  </Card>
</CardGroup>
