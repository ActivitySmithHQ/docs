---
title: "Python"
description: "ActivitySmith Python SDK is a wrapper around the ActivitySmith API to help you easily send push notifications and Live Activities to your iOS devices."
icon: "python"
og:title: "Python SDK | ActivitySmith"
og:description: "ActivitySmith Python SDK is a wrapper around the ActivitySmith API to help you easily send push notifications and Live Activities to your iOS devices."
---

import InstallationPython from "/snippets/installation/python.mdx";

## Installation

To install the ActivitySmith Python SDK, you can use pip:

<InstallationPython />

## Usage

1. Get an API key from [ActivitySmith](https://activitysmith.com)
2. Set the API key as an environment variable named `ACTIVITYSMITH_API_KEY` or pass it as a parameter to the `ActivitySmith` class.

Here's an example of how to use the SDK with error handling:

```python Python
import os
from activitysmith import ActivitySmith

activitysmith = ActivitySmith(api_key=os.environ.get("ACTIVITYSMITH_API_KEY", "YOUR-API-KEY"))
```

### Send a Push Notification

Use `activitysmith.notifications.send` with a push payload. `title` is required; `message` and `subtitle` are optional.

<img
  className="image"
  src="https://cdn.activitysmith.com/features/new-subscription-push-notification.png"
  alt="Push Notification"
/>

```python Python
response = activitysmith.notifications.send(
    {
        "title": "New subscription ðŸ’¸",
        "message": "Customer upgraded to Pro plan",
    }
)

print(response.success)
print(response.devices_notified)
```

### Start a Live Activity

Start a Live Activity with `activitysmith.live_activities.start`. For a segmented progress activity, include `title`, `number_of_steps`, `current_step`, and `type`.

```python Python
start = activitysmith.live_activities.start(
    {
        "content_state": {
            "title": "Nightly database backup",
            "subtitle": "create snapshot",
            "number_of_steps": 3,
            "current_step": 1,
            "type": "segmented_progress",
            "color": "yellow",
        }
    }
)

activity_id = start.activity_id
```

### Update a Live Activity

Update a Live Activity with `activitysmith.live_activities.update`. The `content_state` requires at least `title` and `current_step`.

```python Python
update = activitysmith.live_activities.update(
    {
        "activity_id": activity_id,
        "content_state": {
            "title": "Nightly database backup",
            "subtitle": "upload archive",
            "current_step": 2,
        }
    }
)

print(update.devices_notified)
```

### End a Live Activity

End a Live Activity with `activitysmith.live_activities.end`. You can optionally set `auto_dismiss_minutes` in the `content_state`.

```python Python
end = activitysmith.live_activities.end(
    {
        "activity_id": activity_id,
        "content_state": {
            "title": "Nightly database backup",
            "subtitle": "verify restore",
            "current_step": 3,
            "auto_dismiss_minutes": 2,
        }
    }
)

print(end.success)
```

## Channels

You can target specific channels when sending a push or starting a Live Activity.

```python Python
activitysmith.notifications.send(
    {
        "title": "New subscription ðŸ’¸",
        "message": "Customer upgraded to Pro plan",
        "channels": ["ios-builds", "engineering"],
    }
)

activitysmith.live_activities.start(
    {
        "channels": ["ios-builds"],
        "content_state": {
            "title": "Nightly database backup",
            "number_of_steps": 3,
            "current_step": 1,
            "type": "segmented_progress",
        },
    }
)
```

## Error Handling

The SDK raises exceptions for non-2xx responses. Rate limit errors use the `error` and `message` fields, and Live Activity limits include `limit` and `active`. See [Rate Limits](/rate-limits) for details.

## Additional Resources

<CardGroup cols={2}>
  <Card title="PyPI Package" icon="python" href="https://pypi.org/project/activitysmith/">
    Download and install the ActivitySmith Python SDK on PyPI
  </Card>
  <Card title="Source Code" icon="github" href="https://github.com/ActivitySmithHQ/activitysmith-python">
    View the complete source code for the ActivitySmith Python SDK
  </Card>
</CardGroup>
