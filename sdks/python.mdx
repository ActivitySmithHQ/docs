---
title: "Python"
description: "ActivitySmith Python SDK is a wrapper around the ActivitySmith API to help you easily send push notifications and Live Activities to your iOS devices."
icon: "python"
og:title: "Python SDK | ActivitySmith"
og:description: "ActivitySmith Python SDK is a wrapper around the ActivitySmith API to help you easily send push notifications and Live Activities to your iOS devices."
---

import InstallationPython from "/snippets/installation/python.mdx";

## Installation

To install the ActivitySmith Python SDK, you can use pip:

<InstallationPython />

## Usage

1. Get an API key from [ActivitySmith](https://activitysmith.com)
2. Set the API key as an environment variable named `ACTIVITYSMITH_API_KEY` or pass it as a parameter to the `ActivitySmith` class.

Here's an example of how to use the SDK with error handling:

```python Python
import os
from activitysmith import ActivitySmith

client = ActivitySmith(api_key=os.environ.get("ACTIVITYSMITH_API_KEY", "YOUR-API-KEY"))

try:
    response = client.send_push_notification(
        title="Build Failed ðŸš¨",
        message="CI pipeline failed on main branch",
    )
    print("Notified:", response.devices_notified)
except Exception as err:
    print("Request failed:", err)
```

### Send a Push Notification

Use `send_push_notification` to notify every paired device in your account.

```python Python
response = client.send_push_notification(
    title="Build Failed ðŸš¨",
    message="CI pipeline failed on main branch",
)

print(response.success)
print(response.devices_notified)
```

### Start a Live Activity

Start a Live Activity with `start_live_activity`. For a segmented progress activity, include `title`, `number_of_steps`, `current_step`, and `type`.

```python Python
start = client.start_live_activity(
    content_state={
        "title": "ActivitySmith API Deployment",
        "subtitle": "start",
        "number_of_steps": 4,
        "current_step": 1,
        "type": "segmented_progress",
        "color": "yellow",
    }
)

activity_id = start.activity_id
```

### Update a Live Activity

Update a Live Activity with `update_live_activity`. The `content_state` requires at least `title` and `current_step`.

```python Python
update = client.update_live_activity(
    activity_id=activity_id,
    content_state={
        "title": "ActivitySmith API Deployment",
        "subtitle": "npm i & pm2",
        "current_step": 3,
    }
)

print(update.devices_notified)
```

### End a Live Activity

End a Live Activity with `end_live_activity`. You can optionally set `auto_dismiss_minutes` in the `content_state`.

```python Python
end = client.end_live_activity(
    activity_id=activity_id,
    content_state={
        "title": "ActivitySmith API Deployment",
        "subtitle": "done",
        "current_step": 4,
        "auto_dismiss_minutes": 3,
    }
)

print(end.success)
```

## Error Handling

The SDK raises exceptions for non-2xx responses. Rate limit errors use the `error` and `message` fields, and Live Activity limits include `limit` and `active`. See [Rate Limits](/rate-limits) for details.
