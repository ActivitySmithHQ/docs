---
title: "CLI"
description: "ActivitySmith CLI lets you send push notifications and manage Live Activities from the terminal."
icon: "terminal"
og:title: "CLI | ActivitySmith"
og:description: "ActivitySmith CLI lets you send push notifications and manage Live Activities from the terminal."
---

import InstallationCLI from "/snippets/installation/cli.mdx";

## Installation

Install the ActivitySmith CLI globally using npm:

<InstallationCLI />

## Authentication

Set your API key as an environment variable before running commands:

```bash CLI
export ACTIVITYSMITH_API_KEY="YOUR-API-KEY"
```

Verify the CLI is installed:

```bash CLI
activitysmith --help
```

## Quickstart

Send a push notification:

```bash CLI
activitysmith push \
  --title "Build Failed ðŸš¨" \
  --message "CI pipeline failed on main branch"
```

## Commands

### Push Notification

Sends a push notification to every paired device in your account.

```bash CLI
activitysmith push \
  --title "Build Failed ðŸš¨" \
  --message "CI pipeline failed on main branch" \
  --subtitle "main"
```

### Live Activity: Start

Start a Live Activity and get back an `activityId` for updates.

```bash CLI
activitysmith activity start \
  --content-state '{"title":"ActivitySmith API Deployment","subtitle":"start","numberOfSteps":4,"currentStep":1,"type":"segmented_progress","color":"yellow"}'
```

Or use flags:

```bash CLI
activitysmith activity start \
  --title "ActivitySmith API Deployment" \
  --subtitle "start" \
  --number-of-steps 4 \
  --current-step 1 \
  --type segmented_progress \
  --color yellow
```

### Live Activity: Update

Update an existing Live Activity using its `activityId`.

```bash CLI
activitysmith activity update \
  --activity-id "<activityId>" \
  --content-state '{"title":"ActivitySmith API Deployment","subtitle":"npm i & pm2","currentStep":3}'
```

Or use flags:

```bash CLI
activitysmith activity update \
  --activity-id "<activityId>" \
  --title "ActivitySmith API Deployment" \
  --subtitle "npm i & pm2" \
  --current-step 3
```

### Live Activity: End

End a Live Activity and optionally control its dismissal timing.

```bash CLI
activitysmith activity end \
  --activity-id "<activityId>" \
  --content-state '{"title":"ActivitySmith API Deployment","subtitle":"done","currentStep":4,"autoDismissMinutes":3}'
```

Or use flags:

```bash CLI
activitysmith activity end \
  --activity-id "<activityId>" \
  --title "ActivitySmith API Deployment" \
  --subtitle "done" \
  --current-step 4 \
  --auto-dismiss-minutes 3
```

## Content State

You can provide content state in two ways:

- JSON: `--content-state '{...}'` or `--content-state-file path/to/payload.json`
- Flags: `--title`, `--subtitle`, `--type`, `--number-of-steps`, `--current-step`, `--color`, `--step-color`, `--auto-dismiss-minutes`

Use camelCase keys in JSON (for example: `numberOfSteps`, `currentStep`, `autoDismissMinutes`).

### Required Fields

- `activity start`: `title`, `numberOfSteps`, `currentStep`, `type`
- `activity update`: `title`, `currentStep`
- `activity end`: `title`, `currentStep`

### Field Reference

| Field | Description |
| --- | --- |
| `title` | Primary label shown in the Live Activity. |
| `subtitle` | Secondary label shown in the Live Activity. |
| `type` | Layout type. For now: `segmented_progress`. |
| `numberOfSteps` | Total steps in the progress flow. |
| `currentStep` | Current step index (1-based). |
| `color` | Accent color (`lime`, `green`, `cyan`, `blue`, `purple`, `magenta`, `red`, `orange`, `yellow`). |
| `stepColor` | Color for step segments (same values as `color`). |
| `autoDismissMinutes` | Minutes before dismissal after ending (default `3`, `0` for immediate). |

## Output

Use `--json` to output machine-readable JSON.

## Error Handling

The CLI exits non-zero on non-2xx responses and prints the API error body (for example, rate limit or Live Activity limit errors).
